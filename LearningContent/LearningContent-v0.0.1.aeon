CgEwEpcMCg9MZWFybmluZ0NvbnRlbnQSBTAuMC4xGAAigQV7CiAgIm5hbWUiOiAiTGVhcm5pbmdDb250ZW50IiwKICAicGxhY2VzIjogWwogICAgewogICAgICAiaWQiOiAiU3RhcnRFdmVudF8wa3ZmOXViIiwKICAgICAgIm5hbWUiOiAic3RhcnQiLAogICAgICAiZW0iOiBmYWxzZQogICAgfSwKICAgIHsKICAgICAgImlkIjogIkVuZEV2ZW50XzEyd3ZjM2wiLAogICAgICAibmFtZSI6ICJlbmQiLAogICAgICAiZW0iOiB0cnVlCiAgICB9CiAgXSwKICAidHJhbnNpdGlvbnMiOiBbCiAgICB7CiAgICAgICJpZCI6ICJUYXNrXzAxNnVsam4iLAogICAgICAibmFtZSI6ICJhZGRDb250ZW50IiwKICAgICAgImd1YXJkIjogInRydWUiLAogICAgICAib3BlcmF0aW9uIjogImlkZW50aXR5IgogICAgfQogIF0sCiAgImFyY3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJTZXF1ZW5jZUZsb3dfMXkxZDdxNCIsCiAgICAgICJmcm9tIjogIlN0YXJ0RXZlbnRfMGt2Zjl1YiIsCiAgICAgICJ0byI6ICJUYXNrXzAxNnVsam4iLAogICAgICAid2VpZ2h0IjogMQogICAgfSwKICAgIHsKICAgICAgImlkIjogIlNlcXVlbmNlRmxvd18wdTlmcGdoIiwKICAgICAgImZyb20iOiAiVGFza18wMTZ1bGpuIiwKICAgICAgInRvIjogIkVuZEV2ZW50XzEyd3ZjM2wiLAogICAgICAid2VpZ2h0IjogMQogICAgfQogIF0KfSr2BnsKICAib3BlcmF0aW9ucyI6IFsKICAgIHsKICAgICAgImxhYmVsIjogImFkZENvbnRlbnQiLAogICAgICAib3JibGV0IjogInNjcmlwdCIsCiAgICAgICJtZXRob2QiOiAiU2NyaXB0T3BlcmF0aW9uIiwKICAgICAgImFyZyI6ICIjTGVhcm5pbmdDb250ZW50KCkuYWRkQ29udGVudCgpIgogICAgfQogIF0sCiAgImZ1bmN0aW9ucyI6IFtdLAogICJpbXBvcnRzIjogWwogICAgewogICAgICAibmFtZSI6ICJMZWFybmluZ0NvbnRlbnQiLAogICAgICAidXJsIjogIkxlYXJuaW5nQ29udGVudCIKICAgIH0sCiAgICB7CiAgICAgICJuYW1lIjogIkFlb25Db3JlQ29ubmVjdG9ycyIsCiAgICAgICJ1cmwiOiAiQWVvbkNvcmVDb25uZWN0b3JzLmRsbCIKICAgIH0KICBdLAogICJndWFyZHMiOiBbXSwKICAic3RvcmUiOiB7CiAgICAic3RvcmVUeXBlIjogMSwKICAgICJzdG9yZUFyZyI6ICIiCiAgfSwKICAidHJhbnNpdGlvbkNvbmZpZyI6IFsKICAgIHsKICAgICAgInRyYW5zaXRpb24iOiAiYWRkQ29udGVudCIsCiAgICAgICJwcm9wZXJ0aWVzIjogWwogICAgICAgIHsKICAgICAgICAgICJrZXkiOiAib3ZlcnJpZGVPcGVyYXRpb24iLAogICAgICAgICAgInZhbHVlIjogImFkZENvbnRlbnQiCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgXSwKICAicGxhY2VDb25maWciOiBbXSwKICAiZXhjZXB0aW9uU3RyYXRlZ3kiOiAiKGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGV4Y2VwdGlvbjogZXhjZXB0aW9uLFxuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgc2Vzc2lvbjogc3RsKCkuanNvbihzZXNzaW9uKSxcbiAgICBtYXJraW5nczogUi5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIGkuVG9TdHJpbmcoKTt9LCBtYXJraW5ncylcbiAgfTtcbn0pKCkiCn0ixwwKD0xlYXJuaW5nQ29udGVudBKzDGZ1bmN0aW9uKCkgewoJbGV0IHNlcnZpY2UgPSB7fTsKCQoJc2VydmljZS5hZGRDb250ZW50ID0gZnVuY3Rpb24oKSB7CgkgICAgcGF5bG9hZCA9IHN0bCgpLmpzb24ocGF5bG9hZCk7CgkgICAgbGV0IGRiID0gbmV3IEFlb25Db3JlQ29ubmVjdG9ycygpLmdldFR5cGVJbnN0YW5jZSgiU3FsaXRlQ29ubmVjdG9yIik7CgkgICAgZGIuU2V0Q29ubmVjdGlvblN0cmluZygiVVJJPWZpbGU6L2hvbWUvYXBwL2RhdGEvIiArIHBheWxvYWQuZGIpOwoJICAgIAoJICAgIGxldCBjcmVhdGVUYWJsZVF1ZXJ5ID0gIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGxlYXJuaW5nKGlkIGludGVnZXIgcHJpbWFyeSBrZXkgYXV0b2luY3JlbWVudCwgcXVlc3Rpb24gdGV4dCBub3QgbnVsbCwgYW5zd2VyIHRleHQgbm90IG51bGwpOyI7CgkgICAgcGF5bG9hZC5jcmVhdGVUYWJsZVJlc3VsdCA9IGRiLmV4ZWN1dGUoY3JlYXRlVGFibGVRdWVyeSk7CgkgICAgCgkgICAvLyBsZXQgcSA9ICJERUxFVEUgRlJPTSBsZWFybmluZzsiOwoJICAgLy8gbGV0IGRyID0gZGIuZXhlY3V0ZShxKTsKCSAgICAKCSAgICAvL0ZJWE1FIHNxbCBpbmplY3Rpb24gYnVnCgkgICAgaWYocGF5bG9hZC5xdWVzdGlvbi5pbmRleE9mKCJmaWxlOiIpICE9PSAtMSAmJiBwYXlsb2FkLnF1ZXN0aW9uLmluZGV4T2YoIjtkYXRhOiIpICE9PSAtMSkgewoJICAgICAgICAvL2RlYWxpbmcgd2l0aCBiYXNlNjQgZGF0YQoJICAgICAgICBwYXlsb2FkLnF1ZXN0aW9uID0gZ2V0RmlsZURhdGEocGF5bG9hZC5xdWVzdGlvbikubWltZWQ7CgkgICAgfQoJICAgIAoJICAgIGxldCBxdWVyeSA9ICJJTlNFUlQgSU5UTyBsZWFybmluZyAocXVlc3Rpb24sYW5zd2VyKSBWQUxVRVMoQHF1ZXN0aW9uLEBhbnN3ZXIpOyI7CgkgICAgZGIuQWRkUGFyYW1ldGVyKCJxdWVzdGlvbiIsIHBheWxvYWQucXVlc3Rpb24pOwoJICAgIGRiLkFkZFBhcmFtZXRlcigiYW5zd2VyIiwgcGF5bG9hZC5hbnN3ZXIpOwoJICAgIGxldCByZXN1bHQgPSBkYi5leGVjdXRlKHF1ZXJ5KTsKCSAgICAKCSAgICBwYXlsb2FkLnF1ZXJ5ID0gcXVlcnk7CgkgICAgcGF5bG9hZC5yZXN1bHQgPSByZXN1bHQ7CgkgICAgCgkgICAvLyBsZXQgciA9IGRiLnNlbGVjdCgic2VsZWN0IHF1ZXN0aW9uLGFuc3dlciBmcm9tIGxlYXJuaW5nIik7CgkgICAvLyBwYXlsb2FkLnNlbGVjdCA9IEpTT04ucGFyc2Uoci5Ub1N0cmluZygpKTsKCSAgICAKCSAgICByZXR1cm4gcGF5bG9hZDsKCX07CgkKCWxldCBnZXRGaWxlRGF0YSA9IGZ1bmN0aW9uKGJhc2U2NFN0cmluZykgewogICAgCWxldCBzcGxpdHRlZCA9IGJhc2U2NFN0cmluZy5zcGxpdCgiO2RhdGE6Iik7CiAgICAJbGV0IG1pbWVkRGF0YSA9ICJkYXRhOiIgKyBzcGxpdHRlZFsxXTsKICAgIAlsZXQgZGF0YSA9IG1pbWVkRGF0YS5zcGxpdCgiO2Jhc2U2NCwiKVsxXTsKICAgIAlsZXQgbmFtZSA9IHNwbGl0dGVkWzBdLnNwbGl0KCJmaWxlOiIpWzFdOwogICAgCiAgICAJcmV0dXJuIHsKICAgIAkJbWltZWQ6IG1pbWVkRGF0YSwKICAgIAkJcmF3OiBkYXRhLAogICAgCQluYW1lOiBuYW1lLAogICAgCX07CiAgICB9CiAgICAKCglyZXR1cm4gc2VydmljZTsKfTrhITw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+CjxkZWZpbml0aW9ucyB4bWxucz0iaHR0cDovL3d3dy5vbWcub3JnL3NwZWMvQlBNTi8yMDEwMDUyNC9NT0RFTCIgeG1sbnM6YnBtbmRpPSJodHRwOi8vd3d3Lm9tZy5vcmcvc3BlYy9CUE1OLzIwMTAwNTI0L0RJIiB4bWxuczpvbWdkYz0iaHR0cDovL3d3dy5vbWcub3JnL3NwZWMvREQvMjAxMDA1MjQvREMiIHhtbG5zOm9tZ2RpPSJodHRwOi8vd3d3Lm9tZy5vcmcvc3BlYy9ERC8yMDEwMDUyNC9ESSIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgdGFyZ2V0TmFtZXNwYWNlPSIiIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL3d3dy5vbWcub3JnL3NwZWMvQlBNTi8yMDEwMDUyNC9NT0RFTCBodHRwOi8vd3d3Lm9tZy5vcmcvc3BlYy9CUE1OLzIuMC8yMDEwMDUwMS9CUE1OMjAueHNkIj4KICA8Y29sbGFib3JhdGlvbiBpZD0ic2lkLWMwZTc0NWZmLTM2MWUtNGFmYi04YzhkLTJhMWZjMzJiMTQyNCI+CiAgICA8cGFydGljaXBhbnQgaWQ9InNpZC04N0Y0QzFENi0yNUUxLTRBNDUtOURBNy1BRDk0NTk5M0QwNkYiIG5hbWU9IkxlYXJuaW5nQ29udGVudCIgcHJvY2Vzc1JlZj0ic2lkLUMzODAzOTM5LTA4NzItNDU3Ri04MzM2LUVBRTQ4NERDNEEwNCIgLz4KICA8L2NvbGxhYm9yYXRpb24+CiAgPHByb2Nlc3MgaWQ9InNpZC1DMzgwMzkzOS0wODcyLTQ1N0YtODMzNi1FQUU0ODREQzRBMDQiIG5hbWU9IlByb2Nlc3NOYW1lIiBwcm9jZXNzVHlwZT0iTm9uZSIgaXNDbG9zZWQ9ImZhbHNlIiBpc0V4ZWN1dGFibGU9ImZhbHNlIj4KICAgIDxleHRlbnNpb25FbGVtZW50cyAvPgogICAgPGxhbmVTZXQgaWQ9InNpZC1iMTY3ZDBkNy1lNzYxLTQ2MzYtOTIwMC03NmI3ZjBlOGU4M2EiPgogICAgICA8bGFuZSBpZD0ic2lkLTU3RTRGRTBELTE4RTQtNDc4RC1CQzVELUIxNTE2NEU5MzI1NCI+CiAgICAgICAgPGZsb3dOb2RlUmVmPlN0YXJ0RXZlbnRfMGt2Zjl1YjwvZmxvd05vZGVSZWY+CiAgICAgICAgPGZsb3dOb2RlUmVmPlRhc2tfMDE2dWxqbjwvZmxvd05vZGVSZWY+CiAgICAgICAgPGZsb3dOb2RlUmVmPkVuZEV2ZW50XzEyd3ZjM2w8L2Zsb3dOb2RlUmVmPgogICAgICA8L2xhbmU+CiAgICA8L2xhbmVTZXQ+CiAgICA8c3RhcnRFdmVudCBpZD0iU3RhcnRFdmVudF8wa3ZmOXViIiBuYW1lPSJzdGFydCI+CiAgICAgIDxvdXRnb2luZz5TZXF1ZW5jZUZsb3dfMXkxZDdxNDwvb3V0Z29pbmc+CiAgICA8L3N0YXJ0RXZlbnQ+CiAgICA8dGFzayBpZD0iVGFza18wMTZ1bGpuIiBuYW1lPSJhZGRDb250ZW50Ij4KICAgICAgPGluY29taW5nPlNlcXVlbmNlRmxvd18xeTFkN3E0PC9pbmNvbWluZz4KICAgICAgPG91dGdvaW5nPlNlcXVlbmNlRmxvd18wdTlmcGdoPC9vdXRnb2luZz4KICAgIDwvdGFzaz4KICAgIDxzZXF1ZW5jZUZsb3cgaWQ9IlNlcXVlbmNlRmxvd18xeTFkN3E0IiBzb3VyY2VSZWY9IlN0YXJ0RXZlbnRfMGt2Zjl1YiIgdGFyZ2V0UmVmPSJUYXNrXzAxNnVsam4iIC8+CiAgICA8ZW5kRXZlbnQgaWQ9IkVuZEV2ZW50XzEyd3ZjM2wiIG5hbWU9ImVuZCI+CiAgICAgIDxpbmNvbWluZz5TZXF1ZW5jZUZsb3dfMHU5ZnBnaDwvaW5jb21pbmc+CiAgICA8L2VuZEV2ZW50PgogICAgPHNlcXVlbmNlRmxvdyBpZD0iU2VxdWVuY2VGbG93XzB1OWZwZ2giIHNvdXJjZVJlZj0iVGFza18wMTZ1bGpuIiB0YXJnZXRSZWY9IkVuZEV2ZW50XzEyd3ZjM2wiIC8+CiAgPC9wcm9jZXNzPgogIDxicG1uZGk6QlBNTkRpYWdyYW0gaWQ9InNpZC03NDYyMDgxMi05MmM0LTQ0ZTUtOTQ5Yy1hYTQ3MzkzZDM4MzAiPgogICAgPGJwbW5kaTpCUE1OUGxhbmUgaWQ9InNpZC1jZGNhZTc1OS0yYWY3LTRhNmQtYmQwMi01M2YzMzUyYTczMWQiIGJwbW5FbGVtZW50PSJzaWQtYzBlNzQ1ZmYtMzYxZS00YWZiLThjOGQtMmExZmMzMmIxNDI0Ij4KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9InNpZC04N0Y0QzFENi0yNUUxLTRBNDUtOURBNy1BRDk0NTk5M0QwNkZfZ3VpIiBicG1uRWxlbWVudD0ic2lkLTg3RjRDMUQ2LTI1RTEtNEE0NS05REE3LUFEOTQ1OTkzRDA2RiIgaXNIb3Jpem9udGFsPSJ0cnVlIj4KICAgICAgICA8b21nZGM6Qm91bmRzIHg9IjgzIiB5PSIxMDUiIHdpZHRoPSI5MzMiIGhlaWdodD0iMjUwIiAvPgogICAgICAgIDxicG1uZGk6QlBNTkxhYmVsIGxhYmVsU3R5bGU9InNpZC04NGNiNDlmZC0yZjdjLTQ0ZmItODk1MC04M2MzZmExNTNkM2IiPgogICAgICAgICAgPG9tZ2RjOkJvdW5kcyB4PSI0Ny40OTk5OTk5OTk5OTk5OSIgeT0iMTcwLjQyODU3MzYwODM5ODQ0IiB3aWR0aD0iMTIuMDAwMDAwMDAwMDAwMDE0IiBoZWlnaHQ9IjU5LjE0Mjg1Mjc4MzIwMzEyNSIgLz4KICAgICAgICA8L2JwbW5kaTpCUE1OTGFiZWw+CiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9InNpZC01N0U0RkUwRC0xOEU0LTQ3OEQtQkM1RC1CMTUxNjRFOTMyNTRfZ3VpIiBicG1uRWxlbWVudD0ic2lkLTU3RTRGRTBELTE4RTQtNDc4RC1CQzVELUIxNTE2NEU5MzI1NCIgaXNIb3Jpem9udGFsPSJ0cnVlIj4KICAgICAgICA8b21nZGM6Qm91bmRzIHg9IjExMyIgeT0iMTA1IiB3aWR0aD0iOTAzIiBoZWlnaHQ9IjI1MCIgLz4KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPgogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iU3RhcnRFdmVudF8wa3ZmOXViX2RpIiBicG1uRWxlbWVudD0iU3RhcnRFdmVudF8wa3ZmOXViIj4KICAgICAgICA8b21nZGM6Qm91bmRzIHg9IjE2MiIgeT0iMjE2IiB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIC8+CiAgICAgICAgPGJwbW5kaTpCUE1OTGFiZWw+CiAgICAgICAgICA8b21nZGM6Qm91bmRzIHg9IjE2OSIgeT0iMjU5IiB3aWR0aD0iMjIiIGhlaWdodD0iMTQiIC8+CiAgICAgICAgPC9icG1uZGk6QlBNTkxhYmVsPgogICAgICA8L2JwbW5kaTpCUE1OU2hhcGU+CiAgICAgIDxicG1uZGk6QlBNTlNoYXBlIGlkPSJUYXNrXzAxNnVsam5fZGkiIGJwbW5FbGVtZW50PSJUYXNrXzAxNnVsam4iPgogICAgICAgIDxvbWdkYzpCb3VuZHMgeD0iMjQ4IiB5PSIxOTQiIHdpZHRoPSIxMDAiIGhlaWdodD0iODAiIC8+CiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iU2VxdWVuY2VGbG93XzF5MWQ3cTRfZGkiIGJwbW5FbGVtZW50PSJTZXF1ZW5jZUZsb3dfMXkxZDdxNCI+CiAgICAgICAgPG9tZ2RpOndheXBvaW50IHg9IjE5OCIgeT0iMjM0IiAvPgogICAgICAgIDxvbWdkaTp3YXlwb2ludCB4PSIyNDgiIHk9IjIzNCIgLz4KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+CiAgICAgIDxicG1uZGk6QlBNTlNoYXBlIGlkPSJFbmRFdmVudF8xMnd2YzNsX2RpIiBicG1uRWxlbWVudD0iRW5kRXZlbnRfMTJ3dmMzbCI+CiAgICAgICAgPG9tZ2RjOkJvdW5kcyB4PSIzOTgiIHk9IjIxNiIgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiAvPgogICAgICAgIDxicG1uZGk6QlBNTkxhYmVsPgogICAgICAgICAgPG9tZ2RjOkJvdW5kcyB4PSI0MDciIHk9IjI1OSIgd2lkdGg9IjE5IiBoZWlnaHQ9IjE0IiAvPgogICAgICAgIDwvYnBtbmRpOkJQTU5MYWJlbD4KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPgogICAgICA8YnBtbmRpOkJQTU5FZGdlIGlkPSJTZXF1ZW5jZUZsb3dfMHU5ZnBnaF9kaSIgYnBtbkVsZW1lbnQ9IlNlcXVlbmNlRmxvd18wdTlmcGdoIj4KICAgICAgICA8b21nZGk6d2F5cG9pbnQgeD0iMzQ4IiB5PSIyMzQiIC8+CiAgICAgICAgPG9tZ2RpOndheXBvaW50IHg9IjM5OCIgeT0iMjM0IiAvPgogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4KICAgIDwvYnBtbmRpOkJQTU5QbGFuZT4KICAgIDxicG1uZGk6QlBNTkxhYmVsU3R5bGUgaWQ9InNpZC1lMDUwMmQzMi1mOGQxLTQxY2YtOWM0YS1jYmI0OWZlY2Y1ODEiPgogICAgICA8b21nZGM6Rm9udCBuYW1lPSJBcmlhbCIgc2l6ZT0iMTEiIGlzQm9sZD0iZmFsc2UiIGlzSXRhbGljPSJmYWxzZSIgaXNVbmRlcmxpbmU9ImZhbHNlIiBpc1N0cmlrZVRocm91Z2g9ImZhbHNlIiAvPgogICAgPC9icG1uZGk6QlBNTkxhYmVsU3R5bGU+CiAgICA8YnBtbmRpOkJQTU5MYWJlbFN0eWxlIGlkPSJzaWQtODRjYjQ5ZmQtMmY3Yy00NGZiLTg5NTAtODNjM2ZhMTUzZDNiIj4KICAgICAgPG9tZ2RjOkZvbnQgbmFtZT0iQXJpYWwiIHNpemU9IjEyIiBpc0JvbGQ9ImZhbHNlIiBpc0l0YWxpYz0iZmFsc2UiIGlzVW5kZXJsaW5lPSJmYWxzZSIgaXNTdHJpa2VUaHJvdWdoPSJmYWxzZSIgLz4KICAgIDwvYnBtbmRpOkJQTU5MYWJlbFN0eWxlPgogIDwvYnBtbmRpOkJQTU5EaWFncmFtPgo8L2RlZmluaXRpb25zPgpCpQN7Im5hbWUiOiJMZWFybmluZ0NvbnRlbnQiLCJwbGFjZXMiOlt7ImlkIjoiU3RhcnRFdmVudF8wa3ZmOXViIiwibmFtZSI6InN0YXJ0IiwiZW0iOmZhbHNlfSx7ImlkIjoiRW5kRXZlbnRfMTJ3dmMzbCIsIm5hbWUiOiJlbmQiLCJlbSI6dHJ1ZX1dLCJ0cmFuc2l0aW9ucyI6W3siaWQiOiJUYXNrXzAxNnVsam4iLCJuYW1lIjoiYWRkQ29udGVudCIsImd1YXJkIjoidHJ1ZSIsIm9wZXJhdGlvbiI6ImlkZW50aXR5In1dLCJhcmNzIjpbeyJpZCI6IlNlcXVlbmNlRmxvd18xeTFkN3E0IiwiZnJvbSI6IlN0YXJ0RXZlbnRfMGt2Zjl1YiIsInRvIjoiVGFza18wMTZ1bGpuIiwid2VpZ2h0IjoxfSx7ImlkIjoiU2VxdWVuY2VGbG93XzB1OWZwZ2giLCJmcm9tIjoiVGFza18wMTZ1bGpuIiwidG8iOiJFbmRFdmVudF8xMnd2YzNsIiwid2VpZ2h0IjoxfV19